{"ast":null,"code":"import _regeneratorRuntime from\"/Users/nickjulander/Documents/github_docs/WeatherWebApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/nickjulander/Documents/github_docs/WeatherWebApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/nickjulander/Documents/github_docs/WeatherWebApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useEffect}from'react';import Header from'./components/Header.js';import AddCity from'./components/AddCity.js';import CityBlock from'./components/CityBlock.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),cities=_useState2[0],setCities=_useState2[1];useEffect(function(){var getCities=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var citiesFromServer;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetchCities();case 2:citiesFromServer=_context.sent;setCities(citiesFromServer.data);case 4:case\"end\":return _context.stop();}}},_callee);}));return function getCities(){return _ref.apply(this,arguments);};}();getCities();},[]);var fetchCities=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var res,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch('http://localhost:4000/cities');case 2:res=_context2.sent;_context2.next=5;return res.json();case 5:data=_context2.sent;return _context2.abrupt(\"return\",data);case 7:case\"end\":return _context2.stop();}}},_callee2);}));return function fetchCities(){return _ref2.apply(this,arguments);};}();var addCity=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(city){var name,res;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:name=city['addText'];_context3.next=3;return fetch('http://localhost:4000/addcity',{method:'POST',headers:{'content-type':'application/json'},body:JSON.stringify({city:name})});case 3:res=_context3.sent;window.location.reload();case 5:case\"end\":return _context3.stop();}}},_callee3);}));return function addCity(_x){return _ref3.apply(this,arguments);};}();var refreshCity=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(cityId,cityName){var res;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return fetch('http://localhost:4000/refresh',{method:'POST',headers:{'content-type':'application/json'},body:JSON.stringify({id:cityId,name:cityName})});case 2:res=_context4.sent;window.location.reload();case 4:case\"end\":return _context4.stop();}}},_callee4);}));return function refreshCity(_x2,_x3){return _ref4.apply(this,arguments);};}();var deleteCity=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(cityId){var res;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:console.log(cityId);_context5.next=3;return fetch('http://localhost:4000/delete',{method:'POST',headers:{'content-type':'application/json'},body:JSON.stringify({id:cityId})});case 3:res=_context5.sent;window.location.reload();case 5:case\"end\":return _context5.stop();}}},_callee5);}));return function deleteCity(_x4){return _ref5.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(AddCity,{onAdd:addCity}),/*#__PURE__*/_jsx(CityBlock,{cities:cities,onRefresh:refreshCity,onDelete:deleteCity})]});}export default App;","map":{"version":3,"sources":["/Users/nickjulander/Documents/github_docs/WeatherWebApp/src/Weather.js"],"names":["useState","useEffect","Header","AddCity","CityBlock","App","cities","setCities","getCities","fetchCities","citiesFromServer","data","fetch","res","json","addCity","city","name","method","headers","body","JSON","stringify","window","location","reload","refreshCity","cityId","cityName","id","deleteCity","console","log"],"mappings":"ugBAAA,OAASA,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,MAAOC,CAAAA,MAAP,KAAmB,wBAAnB,CACA,MAAOC,CAAAA,OAAP,KAAoB,yBAApB,CACA,MAAOC,CAAAA,SAAP,KAAsB,2BAAtB,C,wFAEA,QAASC,CAAAA,GAAT,EAAe,eACeL,QAAQ,CAAE,EAAF,CADvB,wCACNM,MADM,eACEC,SADF,eAEbN,SAAS,CAAC,UAAM,CACd,GAAMO,CAAAA,SAAS,0FAAG,8KACeC,CAAAA,WAAW,EAD1B,QACVC,gBADU,eAEhBH,SAAS,CAACG,gBAAgB,CAACC,IAAlB,CAAT,CAFgB,sDAAH,kBAATH,CAAAA,SAAS,0CAAf,CAIAA,SAAS,GACV,CANQ,CAMN,EANM,CAAT,CAQF,GAAMC,CAAAA,WAAW,2FAAG,4KACAG,CAAAA,KAAK,CAAC,8BAAD,CADL,QACZC,GADY,uCAECA,CAAAA,GAAG,CAACC,IAAJ,EAFD,QAEZH,IAFY,iDAGXA,IAHW,0DAAH,kBAAXF,CAAAA,WAAW,2CAAjB,CAMA,GAAMM,CAAAA,OAAO,2FAAG,kBAAOC,IAAP,mIACRC,IADQ,CACDD,IAAI,CAAC,SAAD,CADH,wBAEIJ,CAAAA,KAAK,CAAC,+BAAD,CAAkC,CACvDM,MAAM,CAAE,MAD+C,CAEvDC,OAAO,CAAE,CACP,eAAgB,kBADT,CAF8C,CAKvDC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CAACN,IAAI,CAAEC,IAAP,CAAf,CALiD,CAAlC,CAFT,QAERJ,GAFQ,gBASdU,MAAM,CAACC,QAAP,CAAgBC,MAAhB,GATc,wDAAH,kBAAPV,CAAAA,OAAO,6CAAb,CAYA,GAAMW,CAAAA,WAAW,2FAAG,kBAAOC,MAAP,CAAeC,QAAf,qJACAhB,CAAAA,KAAK,CAAC,+BAAD,CAAkC,CACvDM,MAAM,CAAE,MAD+C,CAEvDC,OAAO,CAAE,CACP,eAAgB,kBADT,CAF8C,CAKvDC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CAACO,EAAE,CAAEF,MAAL,CAAaV,IAAI,CAAEW,QAAnB,CAAf,CALiD,CAAlC,CADL,QACZf,GADY,gBAQlBU,MAAM,CAACC,QAAP,CAAgBC,MAAhB,GARkB,wDAAH,kBAAXC,CAAAA,WAAW,kDAAjB,CAWA,GAAMI,CAAAA,UAAU,2FAAG,kBAAOH,MAAP,8HACjBI,OAAO,CAACC,GAAR,CAAYL,MAAZ,EADiB,uBAECf,CAAAA,KAAK,CAAC,8BAAD,CAAiC,CACtDM,MAAM,CAAE,MAD8C,CAEtDC,OAAO,CAAE,CACP,eAAgB,kBADT,CAF6C,CAKtDC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CAACO,EAAE,CAAEF,MAAL,CAAf,CALgD,CAAjC,CAFN,QAEXd,GAFW,gBASjBU,MAAM,CAACC,QAAP,CAAgBC,MAAhB,GATiB,wDAAH,kBAAVK,CAAAA,UAAU,8CAAhB,CAYE,mBACE,aAAK,SAAS,CAAC,WAAf,wBACE,KAAC,MAAD,IADF,cAEE,KAAC,OAAD,EAAS,KAAK,CAAEf,OAAhB,EAFF,cAGE,KAAC,SAAD,EAAW,MAAM,CAAET,MAAnB,CAA2B,SAAS,CAAEoB,WAAtC,CAAmD,QAAQ,CAAEI,UAA7D,EAHF,GADF,CAOD,CAED,cAAezB,CAAAA,GAAf","sourcesContent":["import { useState, useEffect } from 'react'\nimport Header from './components/Header.js';\nimport AddCity from './components/AddCity.js';\nimport CityBlock from './components/CityBlock.js'\n\nfunction App() {\n  const [cities, setCities] = useState ([])\n  useEffect(() => {\n    const getCities = async () => {\n      const citiesFromServer = await fetchCities()\n      setCities(citiesFromServer.data)\n    }\n    getCities()\n  }, [])\n\nconst fetchCities = async () => {\n  const res = await fetch('http://localhost:4000/cities')\n  const data = await res.json()\n  return data\n}\n\nconst addCity = async (city) => {\n  const name = city['addText']\n  const res = await fetch('http://localhost:4000/addcity', {\n    method: 'POST',\n    headers: {\n      'content-type': 'application/json',\n    },\n    body: JSON.stringify({city: name})\n  });\n  window.location.reload();\n}\n\nconst refreshCity = async (cityId, cityName) => {\n  const res = await fetch('http://localhost:4000/refresh', {\n    method: 'POST',\n    headers: {\n      'content-type': 'application/json',\n    },\n    body: JSON.stringify({id: cityId, name: cityName})\n  });\n  window.location.reload();\n}\n\nconst deleteCity = async (cityId) => {\n  console.log(cityId);\n  const res = await fetch('http://localhost:4000/delete', {\n    method: 'POST',\n    headers: {\n      'content-type': 'application/json',\n    },\n    body: JSON.stringify({id: cityId})\n  });\n  window.location.reload();\n}\n\n  return (\n    <div className=\"container\">\n      <Header/>\n      <AddCity onAdd={addCity}/>\n      <CityBlock cities={cities} onRefresh={refreshCity} onDelete={deleteCity}/>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}